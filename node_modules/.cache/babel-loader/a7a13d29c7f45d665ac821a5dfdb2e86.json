{"ast":null,"code":"var _jsxFileName = \"/Users/shaktishah/Desktop/Coding Temple/2022/week_07/01/hw1/src/contexts/AuthProvider.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useEffect } from \"react\";\nimport { browserLocalPersistence, getAuth, GoogleAuthProvider, onAuthStateChanged, setPersistence, signInWithPopup } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\n\nconst useAuth = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [currentUser, setCurrentUser] = useState({\n    loggedIn: false\n  });\n  let auth = getAuth();\n  const provider = new GoogleAuthProvider();\n\n  const signIn = () => {\n    return setPersistence(auth, browserLocalPersistence).then(() => {\n      signInWithPopup(auth, provider).then(result => {});\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        setCurrentUser({\n          loggedIn: true\n        });\n      }\n    });\n  }, [auth]);\n  const values = {\n    signIn,\n    currentUser\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_s(useAuth, \"2bTO6xhbyu21yGNDed9VuG/s7sg=\");\n\nexport default useAuth;","map":{"version":3,"sources":["/Users/shaktishah/Desktop/Coding Temple/2022/week_07/01/hw1/src/contexts/AuthProvider.js"],"names":["createContext","useState","useEffect","browserLocalPersistence","getAuth","GoogleAuthProvider","onAuthStateChanged","setPersistence","signInWithPopup","AuthContext","useAuth","children","currentUser","setCurrentUser","loggedIn","auth","provider","signIn","then","result","catch","err","console","log","user","values"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,uBAAT,EAAkCC,OAAlC,EAA2CC,kBAA3C,EAA+DC,kBAA/D,EAAmFC,cAAnF,EAAmGC,eAAnG,QAA0H,eAA1H;;AAGA,OAAO,MAAMC,WAAW,gBAAGT,aAAa,EAAjC;;AAEP,MAAMU,OAAO,GAAG,QAAoB;AAAA;;AAAA,MAAlB;AAAEC,IAAAA;AAAF,GAAkB;AAEhC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAE;AAAEa,IAAAA,QAAQ,EAAE;AAAZ,GAAF,CAA9C;AACA,MAAIC,IAAI,GAAGX,OAAO,EAAlB;AACA,QAAMY,QAAQ,GAAG,IAAIX,kBAAJ,EAAjB;;AAEA,QAAMY,MAAM,GAAG,MAAM;AACjB,WAAOV,cAAc,CAAEQ,IAAF,EAAQZ,uBAAR,CAAd,CACEe,IADF,CACS,MAAM;AACVV,MAAAA,eAAe,CAAEO,IAAF,EAAQC,QAAR,CAAf,CACKE,IADL,CACWC,MAAM,IAAI,CAEhB,CAHL;AAIH,KANF,EAOEC,KAPF,CAOSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAaF,GAAb,CAPhB,CAAP;AAQH,GATD;;AAUAnB,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,kBAAkB,CAACS,IAAD,EAAQS,IAAD,IAAU;AACjC,UAAIA,IAAJ,EAAU;AACRX,QAAAA,cAAc,CAAC;AACbC,UAAAA,QAAQ,EAAE;AADG,SAAD,CAAd;AAGD;AACF,KANiB,CAAlB;AAOD,GARQ,EAQN,CAAEC,IAAF,CARM,CAAT;AAUA,QAAMU,MAAM,GAAG;AACXR,IAAAA,MADW;AACHL,IAAAA;AADG,GAAf;AAGA,sBACI,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEa,MAA7B;AAAA,cACKd;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAlCD;;GAAMD,O;;AAoCN,eAAeA,OAAf","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport { browserLocalPersistence, getAuth ,GoogleAuthProvider, onAuthStateChanged, setPersistence, signInWithPopup } from \"firebase/auth\";\n\n\nexport const AuthContext = createContext()\n\nconst useAuth = ( { children } ) => {\n\n    const [currentUser, setCurrentUser] = useState( { loggedIn: false } )\n    let auth = getAuth();\n    const provider = new GoogleAuthProvider();\n\n    const signIn = () => {\n        return setPersistence( auth, browserLocalPersistence )\n                .then ( () => {\n                    signInWithPopup( auth, provider)\n                        .then( result => {\n\n                        })\n                })\n                .catch( err => console.log( err ))\n    }\n    useEffect(() => {\n      onAuthStateChanged(auth, (user) => {\n        if (user) {\n          setCurrentUser({\n            loggedIn: true,\n          });\n        }\n      });\n    }, [ auth ]);\n    \n    const values = {\n        signIn, currentUser\n    }\n    return (\n        <AuthContext.Provider value={values}>\n            {children}\n        </AuthContext.Provider>\n    )\n}\n\nexport default useAuth;"]},"metadata":{},"sourceType":"module"}